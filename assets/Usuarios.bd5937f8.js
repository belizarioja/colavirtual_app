import{_ as f,a8 as g,r as i,N as c,o as v,aa as V,g as d,e as a,f as r,m as p,Q as I,i as b,w,j as n,V as y,aD as C}from"./index.5a08c085.js";import{b as U,c as h,C as Q}from"./ClosePopup.edebd1fa.js";import{Q as N}from"./QForm.31c26936.js";import{Q as E}from"./QPage.58769e99.js";import{a as u}from"./axios.7331a07d.js";import"./format.a522e488.js";import"./QItem.04009fd4.js";const m="http://192.168.0.99:5001/",P=g({name:"EventoPage",setup(){return{columns:[{name:"id",align:"center",label:"#",field:"id",sortable:!0},{name:"nombre",required:!0,label:"Nombre",align:"left",field:e=>e.nombre,format:e=>`${e}`,sortable:!0},{name:"usuario",align:"center",label:"Usuario",field:"usuario",sortable:!0},{name:"clave",align:"center",label:"Clave",field:"clave",sortable:!0},{name:"rol",align:"center",label:"Rol",field:"rol",sortable:!0},{name:"direccion",align:"center",label:"Direcci\xF3n",field:"direccion",sortable:!0},{name:"correo",align:"center",label:"Correo",field:"correo",sortable:!0},{name:"telefono",label:"Tel\xE9fono",field:"telefono",sortable:!0}],btndisable:i(!0),modelroles:i(""),modeltipos:i(""),optionsroles:i([]),optionstipos:i([]),nombre:i(""),usuario:i(""),clave:i(""),direccion:i(""),correo:i(""),telefono:i(""),modalcrear:i(!1)}},data(){return{rows:[]}},methods:{openCrear(){this.limpiar(),this.modalcrear=!0},limpiar(){this.nombre="",this.correo="",this.telefono="",this.usuario="",this.clave=""},crear(){if(this.usuario.length===0||this.clave.length===0||this.nombre.length===0||this.correo.length===0)return;const o={nombre:this.nombre,usuario:this.usuario,clave:this.clave,direccion:this.direccion,correo:this.correo,telefono:this.telefono,idrol:this.modelroles.id,iddocumento:this.modeltipos.id,documento:this.documento};console.log(o),u.post(m+"usuario/crear",o).then(async e=>{this.modalcrear=!1,this.limpiar(),this.listar()})},listar(){this.btndisable=!1,u.get(m+"usuario").then(async o=>{console.log(o.data);const e=o.data.resp;this.rows=[];for(const t in e){const s={};s.id=e[t].id,s.nombre=e[t].nombre,s.usuario=e[t].usuario,s.clave=e[t].clave,s.correo=e[t].correo,s.telefono=e[t].telefono,s.direccion=e[t].direccion,s.rol=e[t].rol,s.idrol=e[t].idrol,this.rows.push(s)}console.log(this.rows)}).catch(o=>{c.create("Problemas al listar Usuarios "+o)})},listarRoles(){this.btndisable=!1,u.get(m+"usuario/roles").then(async o=>{const e=o.data.resp;this.optionsroles=[];for(const t in e){const s={};s.id=e[t].id,s.name=e[t].rol,this.optionsroles.push(s)}console.log(this.rows)}).catch(o=>{c.create("Problemas al listar Roles "+o)})},listarTipos(){this.btndisable=!1,u.get(m+"usuario/tipos").then(async o=>{const e=o.data.resp;this.optionstipos=[];for(const t in e){const s={};s.id=e[t].id,s.tipodocumento=e[t].tipodocumento,s.abrev=e[t].abrev,this.optionstipos.push(s)}console.log(this.rows)}).catch(o=>{c.create("Problemas al listar Roles "+o)})}},mounted(){this.listarTipos(),this.listarRoles(),this.listar()}}),T={class:"row"},D={class:"col"},R=a("span",{class:"row",style:{"font-size":"24px"}},"Usuarios",-1),S={class:"row"},k=a("div",{class:"text-h6"},"Empresa",-1),$={class:"row"},j={class:"col-12"},A={class:"col-6"},B={class:"col-6"},q={class:"col-6"},L={class:"col-6"},M={class:"col-6"},O={class:"col-6"},F={class:"col-6"},_={class:"col-6"},z={style:{"text-align":"center"}};function H(o,e,t,s,G,J){return v(),V(E,{class:"col",style:{padding:"20px"}},{default:d(()=>[a("div",T,[a("div",D,[R,r(p,{style:{margin:"20px"},color:"primary",disabled:o.btndisable,label:"Crear (+)",onClick:o.openCrear},null,8,["disabled","onClick"])])]),a("div",S,[r(U,{class:"col",rows:o.rows,columns:o.columns,"row-key":"id"},null,8,["rows","columns"])]),r(C,{modelValue:o.modalcrear,"onUpdate:modelValue":e[9]||(e[9]=l=>o.modalcrear=l),persistent:""},{default:d(()=>[r(I,{style:{"min-width":"350px"}},{default:d(()=>[r(b,null,{default:d(()=>[k]),_:1}),r(b,{class:"q-pt-none"},{default:d(()=>[r(N,{onSubmit:w(o.crear,["prevent"]),class:"q-gutter-md"},{default:d(()=>[a("div",$,[a("div",j,[r(n,{dense:"",label:"Ingrese nombre completo",modelValue:o.nombre,"onUpdate:modelValue":e[0]||(e[0]=l=>o.nombre=l),autofocus:"",rules:[l=>l.length>0||"Ingresar nombre"]},null,8,["modelValue","rules"])]),a("div",A,[r(n,{dense:"",label:"Ingrese usuario",modelValue:o.usuario,"onUpdate:modelValue":e[1]||(e[1]=l=>o.usuario=l),rules:[l=>l.length>0||"Ingresar usuario"],style:{"margin-right":"20px"}},null,8,["modelValue","rules"])]),a("div",B,[r(n,{dense:"",label:"Ingrese clave",modelValue:o.clave,"onUpdate:modelValue":e[2]||(e[2]=l=>o.clave=l),rules:[l=>l.length>0||"Ingresar clave"]},null,8,["modelValue","rules"])]),a("div",q,[r(h,{dense:"",filled:"","options-dense":"",modelValue:o.modelroles,"onUpdate:modelValue":e[3]||(e[3]=l=>o.modelroles=l),options:o.optionsroles,"option-label":"name","option-value":"id",label:"Seleccione rol",style:{"margin-right":"20px"}},null,8,["modelValue","options"])]),a("div",L,[r(n,{dense:"",modelValue:o.telefono,"onUpdate:modelValue":e[4]||(e[4]=l=>o.telefono=l),label:"Ingrese Tel\xE9fono de contacto",rules:[l=>l.length>0||"Ingresar TEL\xC9FONO"]},null,8,["modelValue","rules"])]),a("div",M,[r(h,{dense:"",filled:"","options-dense":"",modelValue:o.modeltipos,"onUpdate:modelValue":e[5]||(e[5]=l=>o.modeltipos=l),options:o.optionstipos,"option-label":"tipodocumento","option-value":"id",label:"Seleccione tipo documento",style:{"margin-right":"20px"}},null,8,["modelValue","options"])]),a("div",O,[r(n,{dense:"",modelValue:o.documento,"onUpdate:modelValue":e[6]||(e[6]=l=>o.documento=l),label:"Ingrese Documento",rules:[l=>l.length>0||"Ingresar EMAIL"]},null,8,["modelValue","rules"])]),a("div",F,[r(n,{dense:"",modelValue:o.correo,"onUpdate:modelValue":e[7]||(e[7]=l=>o.correo=l),label:"Ingrese Email",rules:[l=>l.length>0||"Ingresar EMAIL"],style:{"margin-right":"20px"}},null,8,["modelValue","rules"])]),a("div",_,[r(n,{dense:"",modelValue:o.direccion,"onUpdate:modelValue":e[8]||(e[8]=l=>o.direccion=l),label:"Ingrese direcci\xF3n habitaci\xF3n",rules:[l=>l.length>0||"Ingresar DIRECCI\xD3N"]},null,8,["modelValue","rules"])])]),a("div",z,[y(r(p,{flat:"",label:"Cancel"},null,512),[[Q]]),r(p,{color:"primary",label:"Aceptar",type:"submit"})])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var oe=f(P,[["render",H]]);export{oe as default};
