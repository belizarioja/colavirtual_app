import{Q as b,a as _}from"./QPage.58769e99.js";import{Q as w,a as I}from"./QItem.04009fd4.js";import{_ as Y,a8 as N,N as D,o as r,aa as f,g as n,e as s,d as h,as as Q,at as k,Q as p,f as i,ab as y,ac as d,au as g,i as u,ad as C,m as H}from"./index.5a08c085.js";import{a as v}from"./axios.7331a07d.js";import{h as m}from"./moment.9709ab41.js";const x="http://192.168.0.99:5001/",B=N({name:"IndexPage",data(){return{rows:[]}},methods:{tomarNumero(c){const l={idevento:c,idusuario:sessionStorage.getItem("co_usuario"),fecha:m().format("YYYY-MM-DD HH:mm:ss")};console.log(l),v.post(x+"evento/obtenernumero",l).then(async e=>{console.log(e.data),this.listar()})},listar(){const c={idusuario:sessionStorage.getItem("co_usuario")};v.post(x+"evento/activos",c).then(async l=>{console.log(l.data);const e=l.data.resp;this.rows=[];for(const a in e){const o={};o.id=e[a].id,o.name=e[a].evento,o.descripcion=e[a].descripcion,o.empresa=e[a].empresa,o.numero=e[a].numero,o.fecha=m(e[a].fecha).format("DD/MM/YYYY HH:mm"),o.fechainicio=m(e[a].fechainicio).format("DD/MM/YYYY HH:mm"),o.fechafin=m(e[a].fechafin).format("DD/MM/YYYY HH:mm"),o.estatus=e[a].estatus>0?"ABIERTO":"CERRADO",o.activo=e[a].activo>0?"ACTIVO":"INACTIVO",this.rows.push(o)}console.log(this.rows)}).catch(l=>{D.create("Problemas al listar Eventos "+l)})}},mounted(){this.listar()}}),E=s("div",{class:"row"},[s("span",{style:{"font-size":"24px"}},"Eventos activos")],-1),M={class:"row"},T={style:{display:"flex","justify-content":"space-between"}},A=s("span",null,"Inicio toma del n\xFAmero:",-1),O={style:{"font-weight":"bold"}},V={style:{display:"flex","justify-content":"space-between"}},P=s("span",null,"Fin toma del n\xFAmero:",-1),S={style:{"font-weight":"bold"}},R={style:{display:"flex","justify-content":"space-between"}},$=s("span",null,"Inicio del evento:",-1),j={style:{"font-weight":"bold"}},z={key:0,style:{"margin-bottom":"10px","font-weight":"900"}},F={class:"text-negative flex flex-center",style:{"font-size":"40px","font-weight":"bold"}};function L(c,l,e,a,o,q){return r(),f(b,{class:"col",style:{padding:"20px"}},{default:n(()=>[E,s("div",M,[(r(!0),h(k,null,Q(c.rows,t=>(r(),f(p,{key:t,class:"my-card col-7",flat:"",bordered:"",style:{margin:"20px"}},{default:n(()=>[i(w,null,{default:n(()=>[i(I,null,{default:n(()=>[i(_,null,{default:n(()=>[y(d(t.name),1)]),_:2},1024),i(_,{caption:""},{default:n(()=>[y(d(t.descripcion),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),i(g),i(u,{horizontal:""},{default:n(()=>[i(u,{style:{width:"80%",height:"150px"}},{default:n(()=>[s("div",T,[A,s("span",O,d(t.fechainicio),1)]),s("div",V,[P,s("span",S,d(t.fechafin),1)]),s("div",R,[$,s("span",j,d(t.fecha),1)])]),_:2},1024),i(g,{vertical:""}),i(u,{class:"col-4 flex flex-center",style:{display:"grid"}},{default:n(()=>[t.numero?(r(),h("div",z,"N\xFAmero asignado")):C("",!0),t.numero?(r(),f(p,{key:1,class:"my-card"},{default:n(()=>[i(u,null,{default:n(()=>[s("div",F,d(t.numero),1)]),_:2},1024)]),_:2},1024)):(r(),f(H,{key:2,dense:"",disable:t.estatus!=="ABIERTO",color:t.estatus==="ABIERTO"?"info":"negative",onClick:G=>c.tomarNumero(t.id),label:t.estatus},null,8,["disable","color","onClick","label"]))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])]),_:1})}var Z=Y(B,[["render",L]]);export{Z as default};
