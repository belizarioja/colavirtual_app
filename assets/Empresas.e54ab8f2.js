import{_ as f,a8 as h,r as i,N as b,o as g,aa as w,g as l,e as t,f as a,m as d,Q as V,i as u,w as C,j as m,V as y,aD as Q}from"./index.e77074c6.js";import{b as E,C as v}from"./ClosePopup.efb98828.js";import{Q as I}from"./QForm.d7bb9363.js";import{Q as N}from"./QPage.3414d5c5.js";import{a as p}from"./axios.7331a07d.js";import"./format.8486d4ec.js";import"./QItem.0b9bb829.js";const c="http://localhost:5005/",_=h({name:"EventoPage",setup(){return{columns:[{name:"id",align:"center",label:"#",field:"id",sortable:!0},{name:"empresa",required:!0,label:"Descripci\xF3n",align:"left",field:o=>o.name,format:o=>`${o}`,sortable:!0},{name:"correo",align:"center",label:"Correo",field:"correo",sortable:!0},{name:"telefono",label:"Tel\xE9fono",field:"telefono",sortable:!0}],btndisable:i(!0),empresa:i(""),correo:i(""),telefono:i(""),modalcrear:i(!1)}},data(){return{rows:[]}},methods:{openCrear(){this.limpiar(),this.modalcrear=!0},limpiar(){this.empresa="",this.correo="",this.telefono=""},crear(){if(this.empresa.length===0||this.correo.length===0||this.telefono.length===0)return;const e={empresa:this.empresa,correo:this.correo,telefono:this.telefono};console.log(e),p.post(c+"empresa",e).then(async o=>{this.modalcrear=!1,console.log(o.data),this.limpiar(),this.listar()})},listar(){this.btndisable=!1,p.get(c+"empresa").then(async e=>{console.log(e.data);const o=e.data.resp;this.rows=[];for(const n in o){const r={};r.id=o[n].id,r.name=o[n].empresa,r.correo=o[n].correo,r.telefono=o[n].telefono,this.rows.push(r)}console.log(this.rows)}).catch(e=>{b.create("Problemas al listar Empresas "+e)})}},mounted(){this.listar()}}),P={class:"row"},T={class:"col"},k=t("span",{class:"row",style:{"font-size":"24px"}},"Empresas",-1),D={class:"row"},$=t("div",{class:"text-h6"},"Empresa",-1),B={style:{"text-align":"center"}};function U(e,o,n,r,q,A){return g(),w(N,{class:"col",style:{padding:"20px"}},{default:l(()=>[t("div",P,[t("div",T,[k,a(d,{style:{margin:"20px"},color:"primary",disabled:e.btndisable,label:"Crear (+)",onClick:e.openCrear},null,8,["disabled","onClick"])])]),t("div",D,[a(E,{rows:e.rows,columns:e.columns,"row-key":"name"},null,8,["rows","columns"])]),a(Q,{modelValue:e.modalcrear,"onUpdate:modelValue":o[3]||(o[3]=s=>e.modalcrear=s),persistent:""},{default:l(()=>[a(V,{style:{"min-width":"350px"}},{default:l(()=>[a(u,null,{default:l(()=>[$]),_:1}),a(u,{class:"q-pt-none"},{default:l(()=>[a(I,{onSubmit:C(e.crear,["prevent"]),class:"q-gutter-md"},{default:l(()=>[a(m,{dense:"",label:"Ingrese Nombre de Empresa",modelValue:e.empresa,"onUpdate:modelValue":o[0]||(o[0]=s=>e.empresa=s),autofocus:"",rules:[s=>s.length>0||"Ingresar Nombre"]},null,8,["modelValue","rules"]),a(m,{dense:"",modelValue:e.correo,"onUpdate:modelValue":o[1]||(o[1]=s=>e.correo=s),label:"Ingrese Email",rules:[s=>s.length>0||"Ingresar EMAIL"]},null,8,["modelValue","rules"]),a(m,{dense:"",modelValue:e.telefono,"onUpdate:modelValue":o[2]||(o[2]=s=>e.telefono=s),label:"Ingrese Tel\xE9fono de contacto",rules:[s=>s.length>0||"Ingresar TEL\xC9FONO"]},null,8,["modelValue","rules"]),t("div",B,[y(a(d,{flat:"",label:"Cancel"},null,512),[[v]]),a(d,{color:"primary",label:"Aceptar",type:"submit"})])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var H=f(_,[["render",U]]);export{H as default};
